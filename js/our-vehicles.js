const users = [
    {
      title: "BLS Frontline",
      html: `
      <div class="page-title">
                        <h2>Frontline Ambulance</h2>
                        </div>
                    <div class="swiper">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">
                                    <img src="FrontlineImages/Bluelight-24-1.jpg" alt="ambulance">
                                </div>
                                <div class="swiper-slide">
                                    <img src="FrontlineImages/Bluelight-21.jpg" alt="ambulance">
                                </div>
                                <div class="swiper-slide">
                                    <img src="FrontlineImages/Bluelight-7.jpg" alt="ambulance">
                                </div>
                                <div class="swiper-slide">
                                    <img src="FrontlineImages/Bluelight-9.jpg" alt="ambulance">
                                </div>
                            </div>
                            <div class="swiper-pagination"></div>
                            <div class="swiper-button-prev">
                              <div class="swiper-button-prev-figure"></div>
                            </div>
                            <div class="swiper-button-next">
                            <div class="swiper-button-next-figure"> </div>
                            </div>
                        </div>
                <div class="global-paragraphs">
                    <div class="page-title">
                        <h2>EMS Frontline</h2>
                    </div>
                    <div class="global-transport-paragraph">
                        <p><b class="global-bold-text">Patient comfort and a safe working environment –</b> built to the highest standards and using the latest technologies <b class="global-bold-text">BUT</b> always demanding improvement is what makes a BLS Georgia Emergency Ambulance popular.</p>
                    </div>
                    <div class="global-transport-paragraph">
                        <p>Designed to meet the rigorous challenges Paramedics face to provide life saving clinical care, the end result a safer place to work for our frontline hero’s.</p>
                    </div>
                    <div class="global-transport-paragraph">
                        <p><b class="global-bold-text">Plus</b> in ALL our Ambulance interior builds we use Biomaster silver based antimicrobial technology making the working environment:- SAFE TESTED PROTECTED for LIFE</p>
                    </div>
                </div>`
    },
    {
      title: "Minibus",
      html: `<div class="page-title">
      <h2>
          MINIBUS
      </h2>
  </div>
  <div class="swiper">
    <div class="swiper-wrapper">
        <div class="swiper-slide">
            <img src="MinibusImages/DSC_2035.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
        <img src="MinibusImages/DSC_2042.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="MinibusImages/DSC_2049.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="MinibusImages/DSC_2058.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="MinibusImages/DSC_2061.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="MinibusImages/DSC_2064.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="MinibusImages/DSC_2074-copy.jpg" alt="ambulance">
        </div>
    </div>
    <div class="swiper-pagination"></div>
                            <div class="swiper-button-prev">
                              <div class="swiper-button-prev-figure"></div>
                            </div>
                            <div class="swiper-button-next">
                            <div class="swiper-button-next-figure"> </div>
                            </div>
</div>
  <div class="global-paragraphs">
      <div class="global-transport-paragraph">
          <p>
              We supply Minibus applications to a range of customers from local councils to public schools, offering 9 seater arrangements through to larger 16 seat Minibuses using Renault, Mercedes, Ford & Volkwagon. <b>Plus</b> in ALL our Ambulance interior builds we use Biomaster silver based antimicrobial technology making the working environment:- SAFE TESTED PROTECTED for LIFE
          </p>
      </div>
      <div class="global-transport-paragraph">
          <p>
              <b>Plus</b> in ALL our Ambulance interior builds we use Biomaster silver based antimicrobial technology making the working environment:- SAFE TESTED PROTECTED for LIFE
          </p>
      </div>
      <div class="global-transport-paragraph">
          <p>
              These vehicles are custom built to the customers specification and then tested by an individual vehicle test.
          </p>
      </div>
  </div>`
    },
    {
      title: "Secure",
      html: `<div class="page-title">
      <h2>Secure Transport</h2>
  </div>
  <div class="swiper">
  <div class="swiper-wrapper">
      <div class="swiper-slide">
          <img src="SecureImages/DSC_2815.jpg" alt="ambulance">
      </div>
      <div class="swiper-slide">
          <img src="SecureImages/DSC_2817.jpg" alt="ambulance">
      </div>
      <div class="swiper-slide">
          <img src="SecureImages/DSC_2818.jpg" alt="ambulance">
      </div>
      <div class="swiper-slide">
          <img src="SecureImages/DSC_2819.jpg" alt="ambulance">
      </div>
      <div class="swiper-slide">
          <img src="SecureImages/DSC_2820.jpg" alt="ambulance">
      </div>
      <div class="swiper-slide">
          <img src="SecureImages/DSC_2822.jpg" alt="ambulance">
      </div>
      <div class="swiper-slide">
          <img src="SecureImages/DSC_2828.jpg" alt="ambulance">
      </div>
      <div class="swiper-slide">
          <img src="SecureImages/DSC_2831.jpg" alt="ambulance">
      </div>
      <div class="swiper-slide">
          <img src="SecureImages/DSC_2834.jpg" alt="ambulance">
      </div>
      <div class="swiper-slide">
          <img src="SecureImages/DSC_2839.jpg" alt="ambulance">
      </div>
      <div class="swiper-slide">
          <img src="SecureImages/DSC_2854.jpg" alt="ambulance">
      </div>
      <div class="swiper-slide">
          <img src="SecureImages/DSC_8852.jpg" alt="ambulance">
      </div>
  </div>
  <div class="swiper-pagination"></div>
                            <div class="swiper-button-prev">
                              <div class="swiper-button-prev-figure"></div>
                            </div>
                            <div class="swiper-button-next">
                            <div class="swiper-button-next-figure"> </div>
                            </div>
</div>
  <div class="global-paragraphs">
      <div class="page-title">
          <h2>Secure Transport</h2>
      </div>
      <div class="global-transport-paragraph-title">
          <p>Our Secure Transport vehicles can be fully configured by you to suit your requirements.</p>
      </div>
      <div class="global-transport-paragraph">
          <p>These vehicles can be either covert or liveried. You also have the option of covert blue lights or full light bars. All of our Secure Transport vehicles are fitted with a cell for securing high risk patients. The crew cab can also be specified with lockable cupboards should you wish to use it for low risk patient transfers. <b class="global-bold-text">Plus</b> in ALL our Ambulance interior builds we use Biomaster silver based antimicrobial technology making the working environment:- SAFE TESTED PROTECTED for LIFE</p>
      </div>
  </div>`
    },
    {
      title: "WAV",
      html: `<div class="page-title">
      <h2>
          WAV 
      </h2>
  </div>
  <div class="swiper">
    <div class="swiper-wrapper">
        <div class="swiper-slide">
            <img src="WavImages/BLS_TRAFIC_1.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="WavImages/BLS_TRAFIC_2.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="WavImages/BLS_TRAFIC_4.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="WavImages/BLS_TRAFIC_5.jpg" alt="ambulance">
        </div>
    </div>
    <div class="swiper-pagination"></div>
                            <div class="swiper-button-prev">
                              <div class="swiper-button-prev-figure"></div>
                            </div>
                            <div class="swiper-button-next">
                            <div class="swiper-button-next-figure"> </div>
                            </div>
   </div>
  <div class="global-paragraphs">
      <div class="global-transport-paragraph">
          <p>
              We love the NEW Renault TRAFIC because it’s become the MOBILITY vehicle of choice for most of our customers. 
              When you combine the adaptive versatility and spacious interior you can see why transport operators think it is a winning combination. The BLS CONVERSION is innovation full, providing ultimate infection protection, multiple interior wheelchair arrangements and the BLS seat belt warning system gives the driver extra passenger piece-of-mind.
          </p>
      </div>
      <div class="global-transport-paragraph">
          <p>
              The lowered rear floor creates a spacious environment with better visibility and the lightweight non-slip ramp makes wheelchair entry into the rear cabin space an easy manoeuvre. We design your vehicles bespoke to your needs offering a host of additional extras and innovations to fully tailor your new Renault TRAFIC Mobility.
          </p>
      </div>
      <div class="global-transport-paragraph">
          <p>
              <b class="global-bold-text">Plus</b> in ALL our Ambulance interior builds we use Biomaster silver based antimicrobial technology making the working environment:- SAFE TESTED PROTECTED for LIFE
          </p>
      </div>
  </div>`
    },
    {
      title: "BLS HDU",
      html: `<div class="page-title">
      <h2>
          HDU Ambulance
      </h2>
  </div>
  <div class="swiper">
    <div class="swiper-wrapper">
        <div class="swiper-slide">
            <img src="HduImages/DSC_0745.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="HduImages/DSC_0751.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="HduImages/DSC_0754.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="HduImages/DSC_0760.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="HduImages/DSC_0763.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="HduImages/DSC_0769.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="HduImages/DSC_0771.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="HduImages/DSC_0295.jpg" alt="ambulance">
        </div>
    </div>
    <div class="swiper-pagination"></div>
                            <div class="swiper-button-prev">
                              <div class="swiper-button-prev-figure"></div>
                            </div>
                            <div class="swiper-button-next">
                            <div class="swiper-button-next-figure"> </div>
                            </div>
</div>
  <div class="global-paragraphs">
      <div class="global-transport-paragraph">
          <p>
             <b> 
              Our HDU Ambulances are designed to meet the rigorous challenges of providing the highest standards of clinical care for patients while giving a practical, safe and effective working environment.</b>
          </p>
      </div>
      <div class="global-transport-paragraph">
          <p>
              This is achieved buy us understanding your organisations requirements and building your vehicle around your business. Not making your business fit a generic vehicle design.
          </p>
      </div>
      
      
  </div>`
    },
  ];
  const ptsItems = [{
    title: "Stretcher",
    html: `<div class="page-title">
    <h2>
        PTS Stretcher
    </h2>
</div>
<div class="swiper">
    <div class="swiper-wrapper">
        <div class="swiper-slide">
            <img src="PTSstretcherImages/DSC_0309.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="PTSstretcherImages/DSC_0313.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="PTSstretcherImages/DSC_0314.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="PTSstretcherImages/DSC_0315.jpg" alt="ambulance">
        </div>
        <div class="swiper-slide">
            <img src="PTSstretcherImages/DSC_0318.jpg" alt="ambulance">
        </div>
    </div>
    <div class="swiper-pagination"></div>
                            <div class="swiper-button-prev">
                              <div class="swiper-button-prev-figure"></div>
                            </div>
                            <div class="swiper-button-next">
                            <div class="swiper-button-next-figure"> </div>
                            </div>
</div>
<div class="global-paragraphs">
    <div class="page-title">
        <h2>PTS Stretcher Ambulance</h2>
    </div>
    <div class="global-transport-paragraph">
        <p>We offer robust PTS stretcher vehicles built using the most current technology, these are bespoke to meet the customers needs offering flexible stretcher and wheelchair layouts.</p>
    </div>
    <div class="global-transport-paragraph">
        <p>Available in these vehicle applications are innovative products which include seat warning systems, cameras system and remote vehicle cut off.</p>
    </div>
    <div class="global-transport-paragraph">
        <p><b class="global-bold-text">Plus</b> in ALL our Ambulance interior builds we use Biomaster silver based antimicrobial technology making the working environment:- SAFE TESTED PROTECTED for LIFE</p>
    </div>
</div>`
},
{   
title: "Seated",
html: `<div class="page-title">
<h2>
    Seated
</h2>
</div>
<div class="swiper">
    <div class="swiper-wrapper">
    <div class="swiper-slide">
        <img src="SeatedImages/IMG_5679.jpg" alt="ambulance">
    </div>
    <div class="swiper-slide">
    <img src="SeatedImages/IMG_5680.jpg" alt="ambulance">
    </div>
    <div class="swiper-slide">
    <img src="SeatedImages/IMG_5684.jpg" alt="ambulance">
    </div>
        <div class="swiper-slide">
    <img src="SeatedImages/IMG_5685.jpg" alt="ambulance">
    </div>
    <div class="swiper-slide">
    <img src="SeatedImages/IMG_5687.jpg" alt="ambulance">
    </div>
    </div>
    <div class="swiper-pagination"></div>
                            <div class="swiper-button-prev">
                              <div class="swiper-button-prev-figure"></div>
                            </div>
                            <div class="swiper-button-next">
                            <div class="swiper-button-next-figure"> </div>
                            </div>
</div>
<div class="global-paragraphs">
<div class="page-title">
    <h2>Seated PTS Ambulance</h2>
</div>
<div class="global-transport-paragraph-title">
    <p>Our PTS vehicles are available on a variety of chassis to suit your specific fleet requirements.</p>
</div>
<div class="global-transport-paragraph">
    <p>All of our vehicles are designed in consultation with our customers so as to ensure your finished vehicle fully meets your organisations specific requirements as well as the statutory requirements of your governing bodies.</p>
</div>
<div class="global-transport-paragraph">
    <p>We use only the highest quality material to ensure that you have a reliable vehicle with minimum down time. We take pride in supplying highest quality vehicle conversions.</p>
</div>
<div class="global-transport-paragraph">
    <p>Our conversion is also available fully CEN (BSEN 1789:2014) Certified and also comes with European Whole Vehicle Type Approval Certification. <b class="global-bold-text">Plus</b> in ALL our Ambulance interior builds we use Biomaster silver based antimicrobial technology making the working environment:- SAFE TESTED PROTECTED for LIFE</p>
</div>
</div>`
},
{
title: "Multiplex",
html: `<div class="page-title">
<h2>
    Multiplex
</h2>
</div>
<div class="swiper">
<div class="swiper-wrapper">
<div class="swiper-slide">
<img src="MultiplexImages/DSC_8511.jpg" alt="ambulance">
</div>
<div class="swiper-slide">
<img src="MultiplexImages/DSC_8521.jpg" alt="ambulance">
</div>
<div class="swiper-slide">
<img src="MultiplexImages/DSC_8523.jpg" alt="ambulance">
</div>
<div class="swiper-slide">
<img src="MultiplexImages/DSC_8524.jpg" alt="ambulance">
</div>
<div class="swiper-slide">
<img src="MultiplexImages/DSC_8527.jpg" alt="ambulance">
</div>
<div class="swiper-slide">
<img src="MultiplexImages/DSC_8540.jpg" alt="ambulance">
</div>
    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-prev">
      <div class="swiper-button-prev-figure"></div>
    </div>
    <div class="swiper-button-next">
    <div class="swiper-button-next-figure"> </div>
    </div>
</div>
<div class="global-paragraphs">
<div class="page-title">
    <h2>Multiplex PTS Ambulance</h2>
</div>
<div class="global-transport-paragraph">
    <p>The Multiplex offers maximum versatility, this unique system allows you to carry up to 2 wheelchairs and 6-seated passengers.
        You can even use the vehicle with a stretcher without having to remove seats. A Multiplex satisfies both your seated and stretcher requirements in a single solution.</p>
</div>
</div>
<div class="global-ambulance-ul-box">
<ul class="global-ambulance-ul">
    <li>Multifunctional layout that can be reconfigured in minutes removes the need for excess fleet</li>
    <li>Accommodate a Bariatric Stretcher</li>
    <li> Euro 6 DCi 130</li>
    <li>Stem Manual Side Step</li>
    <li>Driven under 3500KG on a B license</li>
    <li>Storage for all equipment</li>
    <li>Biomaster GRP wall liners</li>
    <li>3 year warranty</li>
</ul>
</div>
<div class="global-transport-paragraph">
<p><b class="global-bold-text">Plus</b> in ALL our Ambulance interior builds we use Biomaster silver based antimicrobial technology making the working environment:- SAFE TESTED PROTECTED for LIFE</p>
</div>`
}]

const ptsBlock = document.getElementById("ptsBlock");
const buttonContainer = document.getElementById('buttonContainer');
const contentDiv = document.getElementById('contentDiv');
const buttons = [];


function initSwiper() {
    const swiper = new Swiper('.swiper', {
        loop: true,
        speed: 1000,
        autoplay: {
            delay: 2500,
        },
        pagination: {
            el: '.swiper-pagination',
        },

        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
    });
  }


  function changeContent(item) {
    contentDiv.style.opacity = 0;
    setTimeout(() => {
      contentDiv.innerHTML = item.html;
      contentDiv.style.opacity = 1;
  

      initSwiper();
    }, 250);
  }

function updateButtonStyles(activeButton) {
  buttons.forEach(button => {
    const isActive = button === activeButton;
    button.classList.toggle('active', isActive);
  });
}


for (let i = 0; i < users.length; i++) {
    const item = users[i];
    
    const button = document.createElement('div');
    button.classList.add('our-vehicles-list-button');
    button.textContent = item.title;
  
    button.addEventListener('click', () => {
      changeContent(item);
      updateButtonStyles(button);
    });
  
    buttons.push(button);
    buttonContainer.appendChild(button);
  }
  
  for (let i = 0; i < ptsItems.length; i++) {
    const item = ptsItems[i];
    
    const button = document.createElement('div');
    button.classList.add('our-vehicles-list-button');
    button.textContent = item.title;
  
    button.addEventListener('click', () => {
      changeContent(item);
      updateButtonStyles(button);
    });
  
    buttons.push(button);
    ptsBlock.appendChild(button);
  }


const ptsActiveButton = document.getElementById("ptsActiveButton");
ptsActiveButton.addEventListener("click", () => {
    ptsBlock.classList.toggle("active");
});


const listContentButton = document.getElementById('listContentToggleButton');
const vehiclesList = document.getElementById('vehiclesList');

const urlParams = new URLSearchParams(window.location.search);
const selectedTitle = urlParams.get('title');
const ptsTitle = urlParams.get('title');

const selectedUser = users.find(user => user.title === selectedTitle);
const ptsUser = ptsItems.find(user => user.title === ptsTitle);



if (selectedUser) {
  changeContent(selectedUser);
  updateButtonStyles(buttons.find(button => button.textContent === selectedTitle));
} 
else if (ptsUser) {
  changeContent(ptsUser);
  updateButtonStyles(buttons.find(button => button.textContent === ptsTitle))
  ptsBlock.classList.add("active")
}
else {
  const defaultUser = users.find(user => user.title === "BLS Frontline"); 
  changeContent(defaultUser);
  updateButtonStyles(buttons.find(button => button.textContent === "BLS Frontline"));
}


if (window.innerWidth <= 1024) {
    function handleClickOutside(event) {
        const isClickInsideVehiclesList = vehiclesList.contains(event.target);
        const isClickOnListContentButton = listContentButton.contains(event.target);
        const isVehiclesListActive = vehiclesList.classList.contains('active');
      
        if (isVehiclesListActive && !isClickInsideVehiclesList && !isClickOnListContentButton) {
          vehiclesList.classList.remove('active');
        }
      }
    function handleResize() {
        if (window.innerWidth >= 1024) {
            document.removeEventListener('click', handleClickOutside);
        } else {
            document.addEventListener('click', handleClickOutside);
        }
    }
    
    window.addEventListener("resize", handleResize);
    handleResize()
}
const container = document.getElementById('wrapper');
const containerRect = container.getBoundingClientRect();
const listRect = vehiclesList.getBoundingClientRect();
const maxTop = containerRect.height - 330;
const middleTop = containerRect.height - 420;
const lowTop = containerRect.height;


if (window.innerWidth >= 1280) {
    window.addEventListener('scroll', () => {
        const scrollPosition = window.scrollY;
        const newTop = Math.min(maxTop, Math.max(0 + scrollPosition));
      
        vehiclesList.style.transform = `translateY(${newTop}px)`;
      });
}
else if(window.innerWidth < 1280) {
    window.addEventListener('scroll', () => {
        const scrollPosition = window.scrollY;
        const newTop = Math.min(middleTop, Math.max(0 + scrollPosition));
      
        vehiclesList.style.transform = `translateY(${newTop}px)`;
      });
}
else if(window.innerWidth < 700) {
    window.addEventListener('scroll', () => {
        const scrollPosition = window.scrollY;
        const newTop = Math.min(lowTop, Math.max(0 + scrollPosition));
      
        vehiclesList.style.transform = `translateY(${newTop}px)`;
      });
}
const buttonArrow = document.getElementById("listContentButtonArrow");
if (window.innerWidth <= 1300) {
    buttonArrow.classList.add("active")
}
function rotateButton() {
    listContentButton.addEventListener('click', () => {
        vehiclesList.classList.toggle('active');
        rotateArrow();
    });

    window.addEventListener('resize', () => {
        rotateArrow();
    });
    function rotateArrow() {
        if (window.innerWidth > 1300 && vehiclesList.classList.contains('active')) {      
            buttonArrow.style.transform = "rotate(180deg)";
        } else if (window.innerWidth > 1300 && !vehiclesList.classList.contains('active')) {
            buttonArrow.style.transform = "rotate(0deg)";
        }
        else if (window.innerWidth <= 1300 && !vehiclesList.classList.contains('active')) {  
            buttonArrow.style.transform = "rotate(180deg)"
        }
        else if (window.innerWidth <= 1300 && vehiclesList.classList.contains('active')) {
            buttonArrow.style.transform = "rotate(0deg)"
        }
    }
    rotateArrow();
}
rotateButton();
